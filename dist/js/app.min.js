var app=angular.module("cvApp",["ngAnimate"]),hostname="http://localhost:8080";app.controller("General",["$scope","Connector",function(t,n){function s(e,t){e.sort(function(e,t){return e.position-t.position});for(var n=[],s=0;s<e.length;s+=t)n.push(e.slice(s,s+t));return n}t.loader=!0,t.seoData={},t.block_ids=["about","expertise","skills","languages","experience","education","contact"],t.blocks={},t.about=t.blocks.about,t.expertise=t.blocks.expertise,t.skills=t.blocks.skills,t.languages=t.blocks.languages,t.experience=t.blocks.experience,t.education=t.blocks.education,t.contact=t.blocks.contact,t.messageWrapper={},t.messageWrapper.disableSendButton=!1,t.getSeoData=function(){return n.getSeoData().then(function(e){return t.seoData=e},function(e){return M.toast({html:"Failed to fetch data",classes:"error-toast"}),console.error(JSON.stringify(e)),null})},t.getSeoData(),t.getBlock=function(e){return n.getBlock(e).then(function(e){return e},function(e){return M.toast({html:"Failed to fetch data",classes:"error-toast"}),console.error(JSON.stringify(e)),null})},t.getBlocks=function(e){return n.getBlocks(e).then(function(e){return t.blocks=e,t.chunkedExpertiseItems=s(t.blocks.expertise.blocks,3),t.chunkedSkillsItems=s(t.blocks.skills.skills,Math.round(t.blocks.skills.skills.length/2)),t.chunkedLanguagesItems=s(t.blocks.languages.skills,3),t.chunkedExperienceItems=t.blocks.experience.elements.sort(function(e,t){return new Date(t.startDate)-new Date(e.startDate)}),t.loader=!1,e},function(e){return M.toast({html:"Failed to fetch data",classes:"error-toast"}),console.error(JSON.stringify(e)),null})},t.getBlocks(t.block_ids),t.sendMessage=function(e){return t.messageWrapper.disableSendButton=!0,n.sendMessage(e).then(function(e){return M.toast({html:"Message Successfully Sent",classes:"success-toast"}),t.messageWrapper.message={},t.messageWrapper.disableSendButton=!1,$("#name, #email, #phone, #message").val("").removeClass("valid"),M.updateTextFields(),t.contactForm.$setUntouched(),t.contactForm.$setPristine(),e},function(e){return t.messageWrapper.disableSendButton=!1,M.toast({html:"Message Can Not Be Sent",classes:"error-toast"}),console.error(JSON.stringify(e)),null})},t.getDateString=function(e,t){var n=new Date(e);return null==e?"Present":t?n.getFullYear():["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getFullYear()}}]),app.config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|mailto|skype):/)}]),app.factory("Connector",["$http","$q",function(t,n){var s=hostname+"/";return{getSeoData:function(){return t.get(s+"seo").then(function(e){return e.data},function(e){return n.reject(e.data)})},getBlock:function(e){return t.get(s+"block",{params:{id:e}}).then(function(e){return e.data},function(e){return n.reject(e.data)})},getBlocks:function(e){return t.post(s+"blocks",e).then(function(e){return e.data},function(e){return n.reject(e.data)})},sendMessage:function(e){return t.post(s+"sendMessage",e).then(function(e){return e.data},function(e){return n.reject(e.data)})}}}]),window.onscroll=function(){myFunction()};var navbar=document.getElementById("navbar"),sticky=navbar.offsetTop;function myFunction(){window.pageYOffset>=sticky?navbar.classList.add("sticky"):navbar.classList.remove("sticky")}$(document).ready(function(){$(".sidenav").sidenav({menuWidth:250,edge:"left",closeOnClick:!0,draggable:!1})}),$(document).ready(function(){$(".scrollspy").scrollSpy({activeClass:"current"})});